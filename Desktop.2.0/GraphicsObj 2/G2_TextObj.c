//ces.Jim:Desktop.2.0:GraphicsObj 2:G2_TextObj.c#include	"Diffract_INCs.h"#include	"TextObj.h"TextRoundObj*	TextObj::Add(short count,SpotInfo* theSpot,Point thePoint){	if(next != NULL){		return next->Add(count,theSpot,thePoint);	}			next = CreateObject();	next->DoInit(theSpot->direction,theSpot->theCrystal);	next->InsertNewLoc( count,theSpot, thePoint);	//next->Move();	return next;}void TextObj::InsertNewLoc(short count,SpotInfo* theSpot,Point thePoint){	short width,height;	FontInfo theFont;	spotLoc = count;	h 			= theSpot->h;	k 			= theSpot->k;	l				= theSpot->l;	direction  	= theSpot->direction;	flags 		= theSpot->flags;		IndexToIndecies(gTheText);	width 		= 		StringWidth(pTheText) / 2;	GetFontInfo			(&theFont);	height 		= 		(theFont.ascent + theFont.descent)/2;		//GetMouse			(&thePoint);	SetRect(&theSpotRect,-width,-height,width,height);	OffsetRect(&theSpotRect,thePoint.h,thePoint.v);	SetRect(&lineRect,-2,-2,2,2);	gCurrentObj->LocalRectToObj(&theSpotRect); 		OffsetRect(&lineRect,thePoint.h,thePoint.v);	gCurrentObj->LocalRectToObj(&lineRect); 		}