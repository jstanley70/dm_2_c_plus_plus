//Macintosh HD:CodeWarriorª DR/3 Gold Ä:Metrowerks  C/C++ Ä:Projects:D.M. v2.0:Sources.Jim:Data Input/Def Sources:DA_ElementInfoObj.c#include	"Diffract_INCs.h"#include	"elementInfoObj.h"#include 	"AtomicScatter.h"#include 	"AtomData.h"#define DLOG_SECOND 107void ElementInfoObj::Init(){	inherited::Init();	}Boolean ElementInfoObj::DoDefine(void){	short 			i,item,type,oldItem = 1;	Handle 	theHandle;	Rect 			theRect;	/*pascal Boolean 	TheFilter();*/	char			theText[255];	long			lastTick = 0;	AtomData		*theAtomData;	GetPort(&oldPort);	//gScreenSize = oldPort->portRect;	theDialog = DM_GetNewDialog(DLOG_FIRST, 0L,(WindowPtr)-1L);		GetDItem(theDialog,PICTRECT,&type,&theHandle,&thePerTabRect);	stackNo = 0;		GetDItem(theDialog,15,&type,&theHandle,&theRect);	sprintf(theText,"Double click on element to see data");	SetIText(theHandle,c2pstr(theText));	maxElmnts 			= 1;	noOfElements		= 0;	for(i = ALLOYCOMP; i <= ALOOYACEPT4; i++){		GetDItem(theDialog,i,&type,&theHandle,&theRect);		HideControl((ControlHandle)theHandle);	}	DrawDialog(theDialog);		while(1 != 2){		SystemTask();		ModalDialog(MLogFilterUPP/*TheFilterUPP*/,&item);		switch(item){			case REPLACE:				if(this->theDialog != 0L)					DM_DisposDialog(&(this->theDialog));				return true;			case CANCEL:			case CANCELCLICK: 				if(this->theDialog != 0L)					DM_DisposDialog(&(this->theDialog));				return false;			case ENTERCLICK:				theAtomData = (AtomData*)D_new(AtomData);				theAtomData->DoInit(oldElement);				theAtomData->DoDialog();				theAtomData->DoClose();				break;			case PICTRECT:				if(PeriodicTable()){					InvertRectPerTable(oldElement);					theAtomData = (AtomData*)D_new(AtomData);					theAtomData->DoInit(oldElement);					theAtomData->DoDialog();					theAtomData->DoClose();					ToggleElement(oldElement);				};				break;			case ML_UPDATE_EVT:				BeginUpdate(theDialog);DrawDialog(theDialog);				EndUpdate(theDialog);				break;			default:				break;		}	}}